<!DOCTYPE html>
<html lang="ko" itemscope itemtype="http://schema.org/WebPage"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/default_layout.html}">



      <!-- Content -->
      <div layout:fragment="content">
            <!--
            <a th:href="@{/login}">로그인</a>
            <a th:href="@{/signup}">회원가입</a>
            -->

                  <div class="row h-75">
                        <!-- Button -->
                        <th:block></th:block>
                        <div class="d-md-flex d-lg-none d-flex justify-content-center mt-3">
                              <div class="col-xs-3 mx-2 flex-column">
                                    <button type="button"
                                            class="btn btn-outline-primary w-100 shadow-md px-3 d-flex justify-content-center">
                                          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                               class="bi bi-box2-heart mx-1" viewBox="0 0 16 16">
                                                <path d="M8 7.982C9.664 6.309 13.825 9.236 8 13 2.175 9.236 6.336 6.31 8 7.982Z"/>
                                                <path
                                                        d="M3.75 0a1 1 0 0 0-.8.4L.1 4.2a.5.5 0 0 0-.1.3V15a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V4.5a.5.5 0 0 0-.1-.3L13.05.4a1 1 0 0 0-.8-.4h-8.5Zm0 1H7.5v3h-6l2.25-3ZM8.5 4V1h3.75l2.25 3h-6ZM15 5v10H1V5h14Z"/>
                                          </svg>
                                          Best상품
                                    </button>
                                    <a type="button" href="/user/community/popularposts"
                                       class="btn btn-outline-primary w-100 shadow-md px-3 d-flex justify-content-center">
                                          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                               class="bi bi-trophy mx-1"
                                               viewBox="0 0 16 16">
                                                <path
                                                        d="M2.5.5A.5.5 0 0 1 3 0h10a.5.5 0 0 1 .5.5c0 .538-.012 1.05-.034 1.536a3 3 0 1 1-1.133 5.89c-.79 1.865-1.878 2.777-2.833 3.011v2.173l1.425.356c.194.048.377.135.537.255L13.3 15.1a.5.5 0 0 1-.3.9H3a.5.5 0 0 1-.3-.9l1.838-1.379c.16-.12.343-.207.537-.255L6.5 13.11v-2.173c-.955-.234-2.043-1.146-2.833-3.012a3 3 0 1 1-1.132-5.89A33.076 33.076 0 0 1 2.5.5zm.099 2.54a2 2 0 0 0 .72 3.935c-.333-1.05-.588-2.346-.72-3.935zm10.083 3.935a2 2 0 0 0 .72-3.935c-.133 1.59-.388 2.885-.72 3.935zM3.504 1c.007.517.026 1.006.056 1.469.13 2.028.457 3.546.87 4.667C5.294 9.48 6.484 10 7 10a.5.5 0 0 1 .5.5v2.61a1 1 0 0 1-.757.97l-1.426.356a.5.5 0 0 0-.179.085L4.5 15h7l-.638-.479a.501.501 0 0 0-.18-.085l-1.425-.356a1 1 0 0 1-.757-.97V10.5A.5.5 0 0 1 9 10c.516 0 1.706-.52 2.57-2.864.413-1.12.74-2.64.87-4.667.03-.463.049-.952.056-1.469H3.504z"/>
                                          </svg>
                                          인기글
                                    </a>
                              </div>
                              <div class="col-xs-3 mx-2">
                                    <a type="button" href="/user/hospital/search"
                                       class="btn btn-outline-primary w-100 shadow-md px-3 d-flex justify-content-center">
                                          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                               class="bi bi-hand-thumbs-up mx-1" viewBox="0 0 16 16">
                                                <path
                                                        d="M8.864.046C7.908-.193 7.02.53 6.956 1.466c-.072 1.051-.23 2.016-.428 2.59-.125.36-.479 1.013-1.04 1.639-.557.623-1.282 1.178-2.131 1.41C2.685 7.288 2 7.87 2 8.72v4.001c0 .845.682 1.464 1.448 1.545 1.07.114 1.564.415 2.068.723l.048.03c.272.165.578.348.97.484.397.136.861.217 1.466.217h3.5c.937 0 1.599-.477 1.934-1.064a1.86 1.86 0 0 0 .254-.912c0-.152-.023-.312-.077-.464.201-.263.38-.578.488-.901.11-.33.172-.762.004-1.149.069-.13.12-.269.159-.403.077-.27.113-.568.113-.857 0-.288-.036-.585-.113-.856a2.144 2.144 0 0 0-.138-.362 1.9 1.9 0 0 0 .234-1.734c-.206-.592-.682-1.1-1.2-1.272-.847-.282-1.803-.276-2.516-.211a9.84 9.84 0 0 0-.443.05 9.365 9.365 0 0 0-.062-4.509A1.38 1.38 0 0 0 9.125.111L8.864.046zM11.5 14.721H8c-.51 0-.863-.069-1.14-.164-.281-.097-.506-.228-.776-.393l-.04-.024c-.555-.339-1.198-.731-2.49-.868-.333-.036-.554-.29-.554-.55V8.72c0-.254.226-.543.62-.65 1.095-.3 1.977-.996 2.614-1.708.635-.71 1.064-1.475 1.238-1.978.243-.7.407-1.768.482-2.85.025-.362.36-.594.667-.518l.262.066c.16.04.258.143.288.255a8.34 8.34 0 0 1-.145 4.725.5.5 0 0 0 .595.644l.003-.001.014-.003.058-.014a8.908 8.908 0 0 1 1.036-.157c.663-.06 1.457-.054 2.11.164.175.058.45.3.57.65.107.308.087.67-.266 1.022l-.353.353.353.354c.043.043.105.141.154.315.048.167.075.37.075.581 0 .212-.027.414-.075.582-.05.174-.111.272-.154.315l-.353.353.353.354c.047.047.109.177.005.488a2.224 2.224 0 0 1-.505.805l-.353.353.353.354c.006.005.041.05.041.17a.866.866 0 0 1-.121.416c-.165.288-.503.56-1.066.56z"/>
                                          </svg>
                                          추천병원
                                    </a>
                                    <a type="button" href="/user/naming/place"
                                       class="btn btn-outline-primary w-100 shadow-md px-3 d-flex justify-content-center">
                                          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                               class="bi bi-lightbulb mx-1"
                                               viewBox="0 0 16 16">
                                                <path
                                                        d="M2 6a6 6 0 1 1 10.174 4.31c-.203.196-.359.4-.453.619l-.762 1.769A.5.5 0 0 1 10.5 13a.5.5 0 0 1 0 1 .5.5 0 0 1 0 1l-.224.447a1 1 0 0 1-.894.553H6.618a1 1 0 0 1-.894-.553L5.5 15a.5.5 0 0 1 0-1 .5.5 0 0 1 0-1 .5.5 0 0 1-.46-.302l-.761-1.77a1.964 1.964 0 0 0-.453-.618A5.984 5.984 0 0 1 2 6zm6-5a5 5 0 0 0-3.479 8.592c.263.254.514.564.676.941L5.83 12h4.342l.632-1.467c.162-.377.413-.687.676-.941A5 5 0 0 0 8 1z"/>
                                          </svg>
                                          작명소
                                    </a>
                              </div>
                              <div class="col-xs-3 mx-2">
                                    <button type="button"
                                            class="btn btn-outline-primary w-100 shadow-md px-3 d-flex justify-content-center">
                                          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                               class="bi bi-stars mx-1"
                                               viewBox="0 0 16 16">
                                                <path
                                                        d="M7.657 6.247c.11-.33.576-.33.686 0l.645 1.937a2.89 2.89 0 0 0 1.829 1.828l1.936.645c.33.11.33.576 0 .686l-1.937.645a2.89 2.89 0 0 0-1.828 1.829l-.645 1.936a.361.361 0 0 1-.686 0l-.645-1.937a2.89 2.89 0 0 0-1.828-1.828l-1.937-.645a.361.361 0 0 1 0-.686l1.937-.645a2.89 2.89 0 0 0 1.828-1.828l.645-1.937zM3.794 1.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387A1.734 1.734 0 0 0 4.593 5.69l-.387 1.162a.217.217 0 0 1-.412 0L3.407 5.69A1.734 1.734 0 0 0 2.31 4.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387A1.734 1.734 0 0 0 3.407 2.31l.387-1.162zM10.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732L9.1 2.137a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L10.863.1z"/>
                                          </svg>
                                          인기스타
                                    </button>
                                    <button type="button"
                                            class="btn btn-outline-primary w-100 shadow-md px-3 d-flex justify-content-center">
                                          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                               class="bi bi-clipboard-check mx-1" viewBox="0 0 16 16">
                                                <path fill-rule="evenodd"
                                                      d="M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0z"/>
                                                <path
                                                        d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
                                                <path
                                                        d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
                                          </svg>
                                          펫국가등록
                                    </button>
                              </div>
                        </div>
                        <!-- End Button -->
                  </div>
                  <section class="d-flex ">
                        <div class="row form-group py-1 justify-content-center">
                              <div class="col-3">
                                    <label for="writer-input" class="form-control-label">Writer</label>
                                    <input class="form-control" type="text" placeholder="익명" id="writer-input" maxlength="6">
                              </div>
                              <div class="col-8">
                                    <label for="board-content-input" class="form-control-label">Write your word</label>
                                    <input class="form-control" type="text" onkeyup="if(window.event.keyCode==13){writeBoard()}" placeholder="글을 작성하세요!" id="board-content-input" maxlength="40">
                              </div>
                        </div>
                  </section>
                  <section class="d-flex justify-content-center py-3">
                        <div class="card ">
                              <div class="card-header pb-0 p-3">
                                    <div class="d-flex justify-content-between">
                                          <h6 class="mb-2">게시판</h6>
                                    </div>
                              </div>
                              <div class="table-responsive">
                                    <table class="table align-items-center ">
                                          <tbody id="board_tbody">
                                          <th:block th:each="board : ${boardDTOList}">
                                          <tr>
                                                <td>
                                                      <div class="d-flex px-2 py-1 align-items-center">
                                                            <div class="ms-1">
                                                                  <h6 class="text-sm mb-0 text-truncate" style="min-width: 100px; max-width: 100px" th:text="${board.writer}"></h6>
                                                            </div>
                                                      </div>
                                                </td>
                                                <td class="w-30">
                                                      <div class="text-center">
                                                            <h6 class="text-sm mb-0 text-truncate" style="min-width: 250px; max-width: 250px" th:text="${board.content}"></h6>
                                                      </div>
                                                </td>
                                          </tr>
                                          </th:block>
                                          </tbody>
                                    </table>
                              </div>
                        </div>
                  </section>


                  <div class="row">
                        <div class="col-lg-12">
                              <div class="card mb-4">
                                    <div class="card-body px-0 pt-0 pb-2 p-5">
                                          <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
                                                <div class="carousel-indicators">
                                                      <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active"></button>
                                                      <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2" class=""></button>
                                                      <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3" class=""></button>
                                                      <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="3" aria-label="Slide 4" class=""></button>
                                                      <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="4" aria-label="Slide 5" class=""></button>
                                                </div>
                                                <div class="carousel-inner">
                                                      <div class="carousel-item">
                                                            <img src="/assets/img/naming4.png" class="d-block w-100 p-5" height="400" alt="...">
                                                            <div class="carousel-caption d-none d-md-block">
                                                                  <h5 class="text-dark">애완 동물 종합 솔루션 프로젝트 입니다.</h5>
                                                                  <p class="text-dark">개와 고양이를 위해 제작하였습니다.</p>
                                                            </div>
                                                      </div>
                                                      <div class="carousel-item active">
                                                            <img src="/assets/img/mapex.png" class="d-block w-100 p-5" height="400" alt="...">
                                                            <div class="carousel-caption d-none d-md-block">
                                                                  <h5 class="text-dark">카카오 지도 api로 동물병원을 보여줍니다.</h5>
                                                                  <p class="text-dark">주변 동물 병원 정보를 보여줍니다.</p>
                                                            </div>
                                                      </div>
                                                      <div class="carousel-item">
                                                            <img src="/assets/img/communityex.png" class="d-block w-100 p-5" height="400" alt="...">
                                                            <div class="carousel-caption d-none d-md-block">
                                                                  <h5 class="text-dark">인스타 그램 느낌의 커뮤니티를 구성했습니다.</h5>
                                                                  <p class="text-dark">댓글 및 좋아요 기능 ... else </p>
                                                            </div>
                                                      </div>
                                                      <div class="carousel-item">
                                                            <img src="/assets/img/shopex.png" class="d-block w-100 p-5" height="400" alt="...">
                                                            <div class="carousel-caption d-none d-md-block">
                                                                  <h5 class="text-dark">애완동물 쇼핑몰 기능</h5>
                                                                  <p class="text-dark">Create By CatDogForest</p>
                                                            </div>
                                                      </div>
                                                      <div class="carousel-item">
                                                            <img src="/assets/img/namingex.png" class="d-block w-100 p-5" height="400" alt="...">
                                                            <div class="carousel-caption d-none d-md-block">
                                                                  <h5 class="text-dark">chatGpt 기반 작명소</h5>
                                                                  <p class="text-dark">Create By CatDogForest</p>
                                                            </div>
                                                      </div>
                                                </div>
                                                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
                                                      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                                      <span class="visually-hidden">Previous</span>
                                                </button>
                                                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
                                                      <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                                      <span class="visually-hidden">Next</span>
                                                </button>
                                          </div>
                                    </div>
                              </div>
                        </div>
                  </div>
            <script>
                  const successToast = document.getElementById('successToast')
                  const successToastBody = document.getElementById('toast-success-body');
                  const boardInput = document.getElementById('board-content-input');
                  const writerInput = document.getElementById('writer-input');
                  function writeBoard() {

                        const data = { writer : writerInput.value, content : boardInput.value}

                        fetch("/api/user/board/writeContent/"+boardInput.value, {
                              method: "POST",
                              headers: {
                                    "Content-Type": "application/json;charset=UTF-8",
                              },
                              body: JSON.stringify(data),
                        })
                                .then(response => {
                                      if (!response.ok) {
                                            throw new Error(response.statusText);
                                      }
                                      successToast.classList.add("show");
                                      successToastBody.innerHTML = '게시글을 작성했습니다.';
                                      setTimeout(function () {
                                            successToast.classList.remove('show');
                                      }, 5000);
                                      getBoardData();
                                }).catch(error => {
                              console.error(error);
                              alert("board 글 작성중 에러")
                        });
                  }
                  function getBoardData() {
                        fetch("/api/user/board/loadContent/")
                                .then(response => {
                                      if (!response.ok) {
                                            throw new Error(response.statusText);
                                      }
                                      return response.json();
                                }).then(boardList => {
                                    const body = document.getElementById('board_tbody');
                                    body.innerHTML = '';
                                    boardList.forEach(board => {
                                          console.log(board);
                                          console.log("content : " + board.content);
                                          const tr = document.createElement('tr');
                                          tr.innerHTML =
                                                  `
                                                  <td>
                                                      <div class="d-flex px-2 py-1 align-items-center">
                                                            <div class="ms-1">
                                                                  <h6 class="text-sm mb-0 text-truncate" style="min-width: 100px; max-width: 100px">${board.writer}</h6>
                                                            </div>
                                                      </div>
                                                </td>
                                                <td class="w-30">
                                                      <div class="text-center">
                                                            <h6 class="text-sm mb-0 text-truncate" style="min-width: 250px; max-width: 250px">${board.content}</h6>
                                                      </div>
                                                </td>
                                          `;
                                          body.appendChild(tr);
                                    });
                              boardInput.value = '';
                              writerInput.value = '';
                        }).catch(error => {
                              console.error(error);
                              alert("boardData Load중 에러");
                        });
                  }
            </script>
      </div>
      <!-- End Content -->


</html>